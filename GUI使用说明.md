# 机械臂抖动分析GUI程序使用说明

## 程序概述

这是一个专门用于分析机械臂抖动的图形化界面程序，特别设计用于忽略正常Z轴运动的影响，准确识别和分析抖动成分。

## 主要特点

- 🖥️ **图形化界面**：直观易用的GUI操作界面
- 🎯 **智能分析**：自动忽略正常Z轴运动，专注抖动分析
- 📊 **多维度分析**：时域、频域、统计特征全面分析
- 📈 **实时显示**：分析过程和结果实时显示
- 📁 **数据导出**：支持分析结果导出为CSV格式
- 📚 **数学方法**：内置详细的数学方法说明

## 快速开始

### 1. 启动程序

```bash
python run_gui_analyzer.py
```

或者直接运行：

```bash
python gui_vibration_analyzer.py
```

### 2. 界面布局

程序界面分为以下几个主要区域：

1. **文件操作区域** - 选择和加载数据文件
2. **参数设置区域** - 调整分析参数
3. **分析控制区域** - 执行各种分析操作
4. **结果显示区域** - 显示分析结果（标签页形式）
5. **分析日志区域** - 显示分析过程和状态

## 详细使用步骤

### 步骤1：加载数据

1. 点击"选择文件"按钮
2. 选择机械臂数据文件（支持CSV格式）
3. 点击"加载数据"按钮
4. 查看数据统计信息确认加载成功

**支持的数据格式**：
- 原始数据文件（`*_raw.csv`）
- 位置数据文件（`*_position.csv`）

### 步骤2：设置分析参数

在"分析参数设置"区域调整以下参数：

#### 运动检测参数
- **运动检测阈值**：用于区分运动/静止状态（默认：0.5mm）
- **最小运动时长**：过滤短暂位置波动（默认：1.0秒）

#### Z轴趋势分析参数
- **Z轴趋势窗口大小**：滑动窗口大小（默认：10）
- **Z轴趋势阈值**：趋势变化检测阈值（默认：0.1mm）

### 步骤3：执行分析

#### 方法一：分步分析
1. 点击"检测运动段" - 识别机械臂运动段
2. 点击"分析Z轴趋势" - 分析Z轴运动趋势
3. 点击"分析抖动" - 分析各轴抖动特征

#### 方法二：完整分析（推荐）
1. 点击"完整分析" - 自动执行所有分析步骤
2. 查看进度条和状态信息
3. 等待分析完成

### 步骤4：查看结果

分析完成后，在"分析结果"区域查看结果：

#### 基本统计标签页
- 各轴抖动统计信息
- 抖动标准差、峰值等指标
- Z轴特别评估结果

#### Z轴分析标签页
- Z轴趋势分析结果
- 趋势变化点识别
- 趋势斜率统计

#### 运动段分析标签页
- 检测到的运动段信息
- 各运动段的时间范围和位置范围
- 运动段统计信息

#### 数学方法标签页
- 详细的数学方法说明
- 算法原理和公式
- 参数含义解释

### 步骤5：导出结果

1. 点击"导出结果"按钮
2. 选择保存路径和文件名
3. 确认保存

导出的CSV文件包含：
- 各轴详细分析数据
- 运动段信息
- 抖动统计指标

## 分析结果解读

### 基本统计指标

#### 抖动标准差
- **含义**：衡量抖动的平均幅度
- **单位**：毫米（mm）
- **评估标准**：
  - < 0.1mm：良好
  - 0.1-0.5mm：中等
  - > 0.5mm：较差

#### 峰值抖动
- **含义**：抖动的最大幅度
- **单位**：毫米（mm）
- **意义**：反映极端抖动情况

#### 变异系数
- **含义**：相对变异性
- **公式**：CV = σ / μ
- **意义**：无量纲的相对抖动指标

### Z轴特别分析

#### 趋势分析
- **目的**：识别Z轴正常运动趋势
- **方法**：滑动窗口线性回归
- **结果**：趋势变化点、斜率统计

#### 抖动分离
- **目的**：从总运动中分离出抖动成分
- **方法**：去趋势分析
- **结果**：纯抖动信号和统计特征

### 运动段分析

#### 运动段识别
- **方法**：基于位置变化率的阈值检测
- **参数**：运动检测阈值、最小运动时长
- **结果**：运动段数量、时间范围、位置范围

## 参数调优建议

### 运动检测参数

#### 运动检测阈值
- **过小**：可能将静止状态误判为运动
- **过大**：可能将缓慢运动误判为静止
- **建议**：根据机械臂精度调整，通常0.1-1.0mm

#### 最小运动时长
- **过小**：可能将短暂波动误判为运动段
- **过大**：可能忽略短时间的真实运动
- **建议**：根据采样频率调整，通常0.5-2.0秒

### Z轴趋势分析参数

#### 趋势窗口大小
- **过小**：趋势分析不够稳定
- **过大**：可能忽略短期趋势变化
- **建议**：根据数据密度调整，通常5-20个点

#### 趋势阈值
- **过小**：可能将正常变化误判为趋势变化
- **过大**：可能忽略重要的趋势变化
- **建议**：根据Z轴运动特性调整，通常0.01-0.5mm/s

## 常见问题解答

### Q: 程序无法启动
A: 检查是否安装了tkinter库，通常Python自带

### Q: 数据加载失败
A: 检查数据文件格式，确保包含必要的位置数据列

### Q: 分析结果异常
A: 检查数据质量，调整分析参数

### Q: 导出功能不工作
A: 确保有文件写入权限，选择有效的保存路径

### Q: 如何提高分析精度
A: 
- 提高数据采样频率
- 调整分析参数
- 确保数据质量

## 技术特点

### 数学方法
- **运动检测**：基于位置变化率的阈值检测
- **趋势分析**：滑动窗口线性回归
- **抖动分离**：去趋势分析
- **统计特征**：标准差、峰值、偏度、峰度
- **频域分析**：功率谱密度、主要频率

### 算法优势
- **智能识别**：自动区分正常运动和抖动
- **多尺度分析**：粗尺度和细尺度趋势分析
- **鲁棒性强**：对噪声和异常值不敏感
- **计算高效**：优化的算法实现

### 可视化功能
- **实时显示**：分析过程实时更新
- **多标签页**：分类显示不同类型的结果
- **详细日志**：完整的分析过程记录
- **进度指示**：清晰的分析进度显示

## 系统要求

### 最低要求
- Python 3.6+
- tkinter（通常Python自带）
- 内存：2GB RAM
- 存储：100MB可用空间

### 推荐配置
- Python 3.8+
- 内存：8GB RAM
- 存储：1GB可用空间
- 显示器：1920x1080或更高分辨率

## 更新日志

### v1.0 (2024-12-20)
- 初始版本发布
- 支持GUI界面操作
- 实现Z轴趋势分析
- 支持多种数据格式
- 提供详细的分析结果

## 联系支持

如有问题或建议，请参考：
- `机械臂抖动分析数学方法文档.md` - 详细技术文档
- 程序内置的数学方法说明
- 分析日志中的错误信息

---

**注意**：本程序专门针对机械臂抖动分析设计，特别优化了Z轴正常运动的识别和分离功能。建议在分析前确保数据质量和完整性。
